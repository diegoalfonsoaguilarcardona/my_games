<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Picture ‚Üí Word Match</title>
<style>
  :root {
    --bg: #0f172a;
    --card: #0b1220;
    --tile: #0f213d;
    --tile-hover: #152a4e;
    --good: #22c55e;
    --bad: #ef4444;
    --text: #e5e7eb;
    --muted: #9ca3af;
    --accent: #60a5fa;
  }
  * { box-sizing: border-box; }
  body {
    margin: 0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
    background: radial-gradient(1200px 800px at 70% -200px, #12203a 0%, var(--bg) 50%) fixed;
    color: var(--text);
    min-height: 100vh;
    display: grid;
    place-items: center;
  }
  .game {
    width: min(960px, 94vw);
    background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 18px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.06);
    overflow: hidden;
  }
  header {
    padding: 14px 18px;
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0));
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    gap: 12px;
  }
  .score, .lives { font-weight: 600; color: var(--text); }
  .score span { color: var(--accent); }
  .lives .heart {
    color: #f87171; font-size: 18px; margin: 0 2px;
    filter: drop-shadow(0 0 2px rgba(255,0,0,0.2));
  }
  .timer {
    grid-column: 1 / -1;
    background: rgba(255,255,255,0.08);
    height: 8px; border-radius: 99px; overflow: hidden; position: relative;
  }
  .timer .bar {
    position: absolute; left: 0; top: 0; bottom: 0; width: 100%;
    background: linear-gradient(90deg, #34d399, #60a5fa, #f59e0b);
    transform-origin: left center;
    transition: width 0.1s linear;
  }

  .main { padding: 22px clamp(14px, 3.5vw, 28px) 28px; }
  .prompt {
    display: flex; align-items: center; justify-content: center;
    gap: 12px; margin-bottom: 12px; color: var(--muted);
    text-align: center;
  }

  .imageWrap {
    display: grid; place-items: center;
    margin: 0 auto 18px;
    width: min(420px, 92%);
    background: radial-gradient(400px 180px at 50% 0%, rgba(255,255,255,0.06), rgba(255,255,255,0.02)) , var(--tile);
    border: 1px solid rgba(255,255,255,0.09);
    border-radius: 16px;
    aspect-ratio: 1 / 1;
    box-shadow: 0 6px 18px rgba(0,0,0,0.25), inset 0 1px 0 rgba(255,255,255,0.05);
  }
  .imageWrap .emoji {
    font-size: clamp(62px, 8.5vw, 120px);
    line-height: 1;
    filter: drop-shadow(0 6px 12px rgba(0,0,0,0.45));
  }
  .imageWrap svg {
    width: 72%;
    height: 72%;
    filter: drop-shadow(0 6px 12px rgba(0,0,0,0.4));
  }

  .choices {
    display: grid;
    grid-template-columns: repeat(3, minmax(0,1fr));
    gap: clamp(10px, 2.6vw, 18px);
  }
  @media (max-width: 680px) { .choices { grid-template-columns: 1fr; } }

  .choice {
    appearance: none;
    border: 1px solid rgba(255,255,255,0.12);
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
    color: var(--text);
    padding: 14px 16px;
    border-radius: 12px;
    font-weight: 800;
    letter-spacing: 0.4px;
    text-transform: capitalize;
    cursor: pointer;
    transition: transform 0.08s ease, background 0.15s ease, border-color 0.15s ease, box-shadow 0.15s ease;
  }
  .choice:hover { transform: translateY(-2px); background: rgba(255,255,255,0.1); }
  .choice.locked { pointer-events: none; opacity: 0.8; }
  .choice.good {
    outline: 3px solid var(--good);
    box-shadow: 0 0 0 6px rgba(34,197,94,0.18), 0 10px 24px rgba(0,0,0,0.35);
  }
  .choice.bad {
    outline: 3px solid var(--bad);
    box-shadow: 0 0 0 6px rgba(239,68,68,0.18), 0 10px 24px rgba(0,0,0,0.35);
  }

  .footer {
    display: flex; justify-content: space-between; align-items: center;
    gap: 12px; padding: 16px 18px 22px; color: var(--muted);
  }
  .btn {
    appearance: none;
    border: 1px solid rgba(255,255,255,0.12);
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
    color: var(--text);
    padding: 10px 14px;
    border-radius: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: transform 0.08s ease, background 0.15s ease, border-color 0.15s ease;
  }
  .btn:hover { transform: translateY(-1px); background: rgba(255,255,255,0.08); }
  .btn.primary {
    border-color: rgba(96,165,250,0.6);
    background: linear-gradient(180deg, rgba(96,165,250,0.25), rgba(96,165,250,0.08));
  }

  .overlay {
    position: fixed; inset: 0;
    display: none; place-items: center;
    background: rgba(0,0,0,0.55);
    backdrop-filter: blur(3px);
    z-index: 10;
  }
  .overlay.show { display: grid; }
  .modal {
    width: min(560px, 92vw);
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
    border: 1px solid rgba(255,255,255,0.12);
    border-radius: 16px;
    padding: 20px;
    text-align: center;
    box-shadow: 0 18px 60px rgba(0,0,0,0.45);
  }
  .modal h2 { margin: 0 0 10px; font-size: 28px; }
  .modal p { color: var(--muted); margin: 0 0 14px; }
</style>
</head>
<body>
  <div class="game" role="application" aria-label="Picture to Word Match">
    <header>
      <div class="score" aria-live="polite">Score: <span id="score">0</span></div>
      <div style="text-align:center; font-weight:700; letter-spacing:0.4px;">Which word matches this picture?</div>
      <div class="lives" aria-live="polite" aria-label="Lives">
        <span class="heart" id="heart1">‚ù§</span>
        <span class="heart" id="heart2">‚ù§</span>
        <span class="heart" id="heart3">‚ù§</span>
      </div>
      <div class="timer" aria-hidden="true"><div class="bar" id="timebar" style="width:100%"></div></div>
    </header>

    <div class="main">
      <div class="prompt">Look at the picture and choose the correct word:</div>

      <div class="imageWrap" id="image" aria-label="Picture to identify"></div>

      <div class="choices" id="choices" aria-label="Word choices"></div>
    </div>

    <div class="footer">
      <div id="status" aria-live="polite"></div>
      <div>
        <button id="restart" class="btn">Restart</button>
        <button id="skip" class="btn primary" title="Skip (lose a life)">Skip</button>
      </div>
    </div>
  </div>

  <div class="overlay" id="gameover">
    <div class="modal">
      <h2>Game Over</h2>
      <p>Your score: <strong id="finalScore">0</strong></p>
      <button id="playAgain" class="btn primary">Play again</button>
    </div>
  </div>

<script>
  // Updated words
  const WORDS = [
    "Tadpole","Life","larva","Young","Tail","Metamorphosis","Body",
    "Kick","Wave","Arm","Face","Pupa","Old","Adult","Smile"
  ];

  // Icon (emoji/SVG) for each word
  function iconHTMLFor(word) {
    const span = (e) => `<span class="emoji" aria-hidden="true">${e}</span>`;
    switch (word) {
      case "Tadpole":         return span("üê∏");
      case "Life":            return span("ü¶ã");
      case "larva":           return span("üêõ");
      case "Young":           return span("üßí");
      case "Tail":            return span("üêà");
      case "Metamorphosis":   return span("üîÑ");
      case "Body":            return span("üßç");
      case "Kick":            return span("‚öΩÔ∏è");
      case "Wave":            return span("üëã");
      case "Arm":             return span("üí™");
      case "Face":            return span("üôÇ");
      case "Pupa":            return span("ü™≤");
      case "Old":             return span("üìñ");
      case "Adult":           return span("üßë");
      case "Smile":           return span("üòä");
      default:                return span("‚ùì");
    }
  }

  // Simple SVG: kilogram weight with "kg"
  function svgKG() {
    return `
      <svg viewBox="0 0 100 100" role="img" aria-label="Kilogram weight">
        <rect x="22" y="28" width="56" height="52" rx="8" fill="#374151" stroke="#111827" stroke-width="2"/>
        <path d="M35 28 q15 -18 30 0" fill="none" stroke="#111827" stroke-width="6" stroke-linecap="round"/>
        <text x="50" y="62" text-anchor="middle" font-size="24" font-weight="900" fill="#e5e7eb">kg</text>
      </svg>`;
  }

  // SVGs
  function svgCave() {
    return `
      <svg viewBox="0 0 100 100" role="img" aria-label="Cave / Den">
        <defs>
          <linearGradient id="caveGrad" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#5b6470"/>
            <stop offset="100%" stop-color="#2a2f38"/>
          </linearGradient>
        </defs>
        <path d="M10 90 Q50 10 90 90 Z" fill="url(#caveGrad)" stroke="#1f242c" stroke-width="2"/>
        <path d="M32 90 Q50 45 68 90 Z" fill="#171a1f"/>
      </svg>`;
  }

  function svgBottle1L() {
    return `
      <svg viewBox="0 0 100 100" role="img" aria-label="Bottle labeled 1 liter">
        <defs>
          <linearGradient id="glass" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#dbeafe"/>
            <stop offset="100%" stop-color="#93c5fd"/>
          </linearGradient>
        </defs>
        <rect x="38" y="10" width="24" height="10" rx="3" fill="#1e40af"/>
        <path d="M35 20 Q50 20 65 20 L65 78 Q65 90 50 90 Q35 90 35 78 Z"
              fill="url(#glass)" stroke="#1e3a8a" stroke-width="2"/>
        <text x="50" y="62" text-anchor="middle" font-size="24" font-weight="900" fill="#0b1531">1L</text>
      </svg>`;
  }

  function svgO2() {
    return `
      <svg viewBox="0 0 100 100" role="img" aria-label="Oxygen O2 bubble">
        <defs>
          <radialGradient id="bubble" cx="35%" cy="30%" r="70%">
            <stop offset="0%" stop-color="#e0f2fe"/>
            <stop offset="100%" stop-color="#60a5fa"/>
          </radialGradient>
        </defs>
        <circle cx="50" cy="50" r="40" fill="url(#bubble)" stroke="#1d4ed8" stroke-width="2" />
        <text x="50" y="58" text-anchor="middle" font-size="30" font-weight="900" fill="#0b1531">
          O<tspan dy="6" font-size="18">2</tspan>
        </text>
      </svg>`;
  }

  // Utility: shuffle array in-place
  function shuffle(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
  }

  // DOM
  const imageEl = document.getElementById('image');
  const choicesEl = document.getElementById('choices');
  const scoreEl = document.getElementById('score');
  const statusEl = document.getElementById('status');
  const timebarEl = document.getElementById('timebar');
  const overlayEl = document.getElementById('gameover');
  const finalScoreEl = document.getElementById('finalScore');
  const restartBtn = document.getElementById('restart');
  const skipBtn = document.getElementById('skip');
  const playAgainBtn = document.getElementById('playAgain');

  // State
  let score = 0;
  let lives = 3;
  let queue = [];
  let currentWord = null;
  let answered = false;
  let timerId = null;
  const ROUND_MS = 10000;

  function updateScore() { scoreEl.textContent = score; }
  function updateLives() {
    for (let i = 1; i <= 3; i++) {
      const el = document.getElementById('heart' + i);
      el.style.visibility = (i <= lives) ? 'visible' : 'hidden';
    }
  }

  function resetGame() {
    score = 0; lives = 3; answered = false;
    queue = shuffle([...WORDS]);
    updateScore(); updateLives();
    statusEl.textContent = '';
    overlayEl.classList.remove('show');
    nextRound();
  }

  function gameOver() {
    stopTimer();
    finalScoreEl.textContent = score;
    overlayEl.classList.add('show');
  }

  function nextRound() {
    stopTimer();
    answered = false;
    timebarEl.style.width = '100%';

    if (queue.length === 0) queue = shuffle([...WORDS]);
    currentWord = queue.pop();

    // Show the image
    imageEl.innerHTML = iconHTMLFor(currentWord);

    // Build 3 choices: 1 correct + 2 random others
    const set = new Set([currentWord]);
    while (set.size < 3) {
      set.add(WORDS[Math.floor(Math.random() * WORDS.length)]);
    }
    const choiceArr = shuffle([...set]);

    // Render choice buttons
    choicesEl.innerHTML = '';
    choiceArr.forEach(word => {
      const btn = document.createElement('button');
      btn.className = 'choice';
      btn.type = 'button';
      btn.textContent = word;
      btn.setAttribute('aria-label', `Choose the word: ${word}`);
      btn.addEventListener('click', () => onPick(btn, word));
      choicesEl.appendChild(btn);
    });

    startTimer(ROUND_MS);
  }

  function onPick(btn, pickedWord) {
    if (answered) return;
    answered = true;
    stopTimer();

    const buttons = [...document.querySelectorAll('.choice')];
    buttons.forEach(b => b.classList.add('locked'));

    const correct = (pickedWord === currentWord);
    if (correct) {
      btn.classList.add('good');
      score += 1;
      statusEl.textContent = 'Great!';
    } else {
      btn.classList.add('bad');
      const rightBtn = buttons.find(b => b.textContent === currentWord);
      if (rightBtn) rightBtn.classList.add('good');
      lives -= 1;
      statusEl.textContent = 'Oops!';
    }
    updateScore(); updateLives();

    setTimeout(() => {
      if (lives <= 0) gameOver();
      else nextRound();
    }, 800);
  }

  function startTimer(ms) {
    const start = performance.now();
    timebarEl.style.transition = 'none';
    timebarEl.style.width = '100%';
    requestAnimationFrame(() => { timebarEl.style.transition = 'width 0.1s linear'; });

    timerId = setInterval(() => {
      const elapsed = performance.now() - start;
      const remain = Math.max(0, ms - elapsed);
      const pct = (remain / ms) * 100;
      timebarEl.style.width = pct + '%';
      if (remain <= 0) onTimeUp();
    }, 100);
  }

  function stopTimer() {
    if (timerId) {
      clearInterval(timerId);
      timerId = null;
    }
  }

  function onTimeUp() {
    if (answered) return;
    answered = true;
    stopTimer();
    const buttons = [...document.querySelectorAll('.choice')];
    buttons.forEach(b => b.classList.add('locked'));
    const rightBtn = buttons.find(b => b.textContent === currentWord);
    if (rightBtn) rightBtn.classList.add('good');
    lives -= 1;
    updateLives();
    statusEl.textContent = 'Time‚Äôs up!';
    setTimeout(() => {
      if (lives <= 0) gameOver();
      else nextRound();
    }, 800);
  }

  // Buttons
  restartBtn.addEventListener('click', resetGame);
  skipBtn.addEventListener('click', () => {
    if (answered) return;
    onTimeUp(); // Skipping costs a life
  });
  playAgainBtn.addEventListener('click', resetGame);

  // Start
  resetGame();
</script>
</body>
</html>